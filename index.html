<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ghosty HTML Deobfuscator</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
<style>
    body {
        margin: 0;
        background: #000;
        color: #0ff;
        font-family: 'Orbitron', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }
    .container {
        width: 90%;
        max-width: 800px;
        background: rgba(0, 20, 20, 0.9);
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 0 25px #0ff;
        text-align: center;
    }
    h1 { text-shadow: 0 0 10px #0ff; margin-bottom: 20px; }
    textarea {
        width: 100%;
        height: 200px;
        background: #000;
        border: 1px solid #0ff;
        color: #0ff;
        padding: 10px;
        border-radius: 10px;
        font-family: monospace;
        resize: none;
        box-shadow: inset 0 0 10px #0ff;
        margin-bottom: 15px;
    }
    .btn-group {
        display: flex;
        gap: 10px;
        justify-content: center;
        flex-wrap: wrap;
    }
    .btn {
        padding: 15px 25px;
        background: #000;
        color: #0ff;
        border: 1px solid #0ff;
        border-radius: 10px;
        cursor: pointer;
        text-transform: uppercase;
        font-weight: bold;
        transition: 0.3s;
        box-shadow: 0 0 10px #0ff;
    }
    .btn:hover {
        background: #0ff;
        color: #000;
        box-shadow: 0 0 20px #0ff;
    }
    .output-label {
        margin-top: 20px;
        display: block;
        text-align: left;
        font-size: 12px;
        opacity: 0.8;
    }
    footer { margin-top: 20px; font-size: 10px; opacity: 0.6; }
</style>
</head>
<body>

<div class="container">
    <h1>GHOSTY DEOBFUSCATOR</h1>
    <p style="font-size: 12px;">Paste obfuscated HTML/JS below</p>
    
    <textarea id="inputCode" placeholder="Paste your messy code here..."></textarea>
    
    <div class="btn-group">
        <button class="btn" onclick="deobfuscate()">Deobfuscate</button>
        <button class="btn" onclick="clearAll()">Clear</button>
        <button class="btn" onclick="copyResult()">Copy Result</button>
    </div>

    <span class="output-label">Cleaned Output:</span>
    <textarea id="outputCode" placeholder="Cleaned code will appear here..." readonly></textarea>

    <footer>POWERED BY GHOSTY NETWORK</footer>
</div>

<script>
    function deobfuscate() {
        let code = document.getElementById('inputCode').value;

        try {
            // 1. Handle Hex Encoded Strings (\xXX)
            code = code.replace(/\\x([0-9A-Fa-f]{2})/g, (match, hex) => {
                return String.fromCharCode(parseInt(hex, 16));
            });

            // 2. Handle Unicode Encoded Strings (\uXXXX)
            code = code.replace(/\\u([0-9A-Fa-f]{4})/g, (match, hex) => {
                return String.fromCharCode(parseInt(hex, 16));
            });

            // 3. Basic HTML Unescape
            const doc = new DOMParser().parseFromString(code, "text/html");
            code = doc.documentElement.textContent;

            // 4. Simple Formatting (Beautify logic)
            let tab = 0;
            let result = '';
            const tokens = code.split(/>/);
            
            for (let i = 0; i < tokens.length; i++) {
                let line = tokens[i].trim();
                if (line.length > 0) {
                    result += line + '>\n';
                }
            }

            document.getElementById('outputCode').value = result || code;
        } catch (e) {
            alert("Error processing code. Make sure it's valid obfuscated text.");
        }
    }

    function clearAll() {
        document.getElementById('inputCode').value = '';
        document.getElementById('outputCode').value = '';
    }

    function copyResult() {
        const copyText = document.getElementById("outputCode");
        copyText.select();
        document.execCommand("copy");
        alert("Copied to clipboard!");
    }
</script>

</body>
</html>
